<!DOCTYPE HTML>
<html>
	<head>
		<title>Combinator</title>
		
		<!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
		<script src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/jquery.leanModal.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/init.js"></script>
		
		<noscript>
			<link rel="stylesheet" href="css/style.css" />
		</noscript>
		<link rel="shortcut icon" href="images/icon.ico">
	
	</head>
	<body>   
		<div >
			
			<form name="test" action="JavaScript:getSyn()">
			  <p><b>Введите слова через пробел</b><br>
			   <input id="words" type="text" size="40">
			  </p>
			  <p><input type="submit" value="Жми">
			   <input type="reset" value="Очистить"></p>

			    <p>Полученные комбинации<Br>
			   <textarea id="combinations" cols="80" rows="15"></textarea></p>
			 </form>
   	

   		</div>

		

			<script type="text/javascript">
			
			function getSyn(){
			var slovar= [
			["нос","ухо","глаз","рот","шея","лоб","око" ],
			["носик","ушко","глазик","ротик","лобик"],
			["кря","ку","кар","ко","га","чирик"],
			["до","ре","ми","фа","соль","ля","си"],
			["над","под","на","над","сверху"],
			["и","да","также","тоже","ни","как"],
			["а","да","но","зато","однако"],
			["ру","ком","сом","рф"],
			["бряк","пелик","бум","бах","звуки"],
			["ан","ту","як","ил","су","т"],
			["ка","ми"],
			["надь","вер","люб","ир","ань","кать","свет"],
			["юр","петь","ром","коль","борь"],
			["надежда","вера","любовь"],
			["манка","гречка","рис","просо","греча","пшено","зерно"],
			["один","два","три","четыре","пять","шесть","семь"],
			["мю","ню","пи","ро","фи","хи","кси"],
			["волга","дон","ока","нева","днепр"],
			["ока","нива","волга","лада","ваз","баз","волжанин"],
			["метр","килограмм","секунда","ампер","кельвин","моль","кандела"],
			["абсент","аквавит","арак","бренди","водка","виски","джин"],
			["кумыс","хурэмгэ","билк","арак","арака","кумышка","архи"],
			["коньяк","арманьяк","граппа","кальвадос","киршвассер","сливовица","метакса"],
			["перри","сидр"],
			["портвейн","мадера","херес","марсала","малага","токай","кагор"],
			["ява","иж","вятка","гауя","днепр","к","минск"],
			["вместе","без","с","отдельно"],
			["тот","та","те","этот ","эти","эта"],
			["мы","вы","они","я","ты","он","она"],
			["за","у","перед"],
			["около","у"],
			["лево","право"],
			["через","транс"],
			["техно","транс"],
			["игрок","бот","юзер"],
			["пес","кот"],
			["из","в"],
			["изо","во"],
			["до","после","перед","за"],
			["сыщик","опер"],
			["норд","ост"],
			["вест","зюйд"],
			["ист","вест"],
			["букв","цифр","чисел"],
			["мяч","шар"],
			["кушаю","ем","голодаю"],
			["голод","жор"],
			["да","ага","ок"],
			["отмена","ок"],
			["ок","норм"],
			["или","либо","то"],
			["или","и"],
			["дай","на","держи"],
			["если","но"],
			["за","против"],
			["о","про","об"],
			["к","от","ото"],
			["игого","му","иа"],
			["мяу","гав","пи","ква"],
			["сел","лег","встал"],
			["лети","беги","лежи","спи","сиди"],
			["живи","умри","помри","возродись"],
			["сос","помогите","хэлп"],
			["пробел","таб","контрол","энтер","скролл","эксейп","хоум"],
			["страйк","гол","очко"],
			["гол","пентальти","штрафной"],
			["шах","мат","пат"],
			["орел","решка"],
			["король","шут","царь"],
			["господин","раб"],
			["добр","зол","лют"],
			["просто","сложно"],
			["зим","лет"],
			["ад","рай","чистилище"],
			["шар","куб"],
			["лимон","мандарин","апельсин","виноград","яблоко","груша","слива"],
			["пол","потолок","стена"],
			["пол","настил"],
			["день","ночь","вечер","утро"],
			["чай","ко"],
			["люстра","бра","торшер","лампа"],
			["чай","ко"],
			["сахар","чай"],
			["сахар","соль"],
			["чай","кофе","какао"],
			["имя","ник","логин"],
			["логин","пас"],
			["нога","рука","стопа","ладонь","палец"],
			["сердце","печень","желудок","кишечник","жкт"],
			["пузо","пресс","живот"],
			["ног","рук","лап"],
			["голов","пят"],
			["свет","тьма","луч"],
			["свет","тень"],
			["красный","ал"],
			["бел","сер","черн"],
			["пик","бубей","черв","треф"],
			["рожы","лица","морды","хари"],
			["барану","козе"],
			["баран","коза","олень","лось","корова"],
			["баранов","коз","оленей","лосей","коров"],
			["медведей","панд"],
			["перечень","опись"],
			["хвост","рог","копыто"],
			["хвосты","рога","копыта"],
			["хвала","ода","стих"],
			["двойка","пара","тройка","единица"],
			["барон","граф","шах","князь","король"],
			["плойка","фен"],
			["сладко","кисло"],
			["клан","род"],
			["ряска","тина"],
			["ал","ла"],
			["рык","вой","стон"],
			["вставай","спи"],
			["копот","сок"],
			["колес","шин"],
			["дуб","ель","пихта"],
			["ожегов","даль"],
			["джин","тоник"],
			["повесть","роман"],
			["тик","так"],
			["масса","вес","рост","объем"],
			["пуд","унция"],
			["пуд","лихо"],
			["преступник","вор","мент","мусор","коп"],
			["икона","лик","образ","лук"],
			["штора","тюль"],
			["господин","пан","мистер","мисс","миссис ","сер","мем"],
			["помада","тушь","блеск","пудра"],
			["ангел","бес"],
			["дискотека","бал"],
			["навес","тент","шатер","палатка"],
			["так","как"],
			["лиза","мона"],
			["стырь","укради"],
			["месяцев","недельник"],
			["оп","по"],
			["тут","там","здесь"],
			["вас","нас"],
			["трусы","майка"],
			["пивная","бар","кафе","бистро"],
			["авоська","сетка"],
			["флейта","труба"],
			["идиоток","дур"],
			["боцман","кок"],
			["пчел","ос","мух"],
			["пчелы","осы","мухи","жуки"],
			["продай","купи"],
			["холмов","гор"],
			["арбуз","дыня"],
			["цензура","мат"],
			["комплимент","мат"],
			["комплименты","маты"],
			["электричество","ток"],
			["раз","два","три"],
			["пьян","трезв"],
			["вокзал","порт","причал"],
			["рембрандт","моне"],
			["кощей","яга"],
			["телега","арба"],
			["телега","воз"],
			["дней","лет"],
			["суток","лет"],
			["шаг","па"],
			["хрюша","филя","степаша","каркуша"],
			["трудно","просто"],
			["тире","точка"],
			["дональд","дак"],
			["склад","база"],
			["складов","баз"],
			["ставка","кон"],
			["холоп","пан"],
			["билеты","талоны"],
			["промах","гол"],
			["добро","зло"],
			["верхушка","топ"],
			["пере","недо"],
			["при","возле","у","рядом"],
			["глаз","око"],
			["стержень","ось"],
			["кассета","диск"],
			["ешь","пей"],
			["петька","анка"],
			["квитанция","чек"],
			["ваз","газ"],
			["мадам","мисс"],
			["движение","ход"],
			["сахар","соль"],
			["мастер","ас","виртуоз"],
			["престол","трон"],
			["против","за"],
			["граф","барин"],
			["картина","фото"],
			["какаду","ара"],
			["гектар","га"],
			["куча","кипа"],
			["д","т"],
			["шипение","свист"],
			["гуд","ок"],
			["суп","щи"],
			["эпидемия","мор"],
			["работ","дел"],
			["лес","бор","пуща"],
			["еда","корм"],
			["автомобиль","машина","авто"],
			["я","а"],
			["ромашек","астр"],
			["по","ляля","дипси","тинки-винки"],
			["под","оп"],
			["уменьшался","рос"],
			["серпор","кос"],
			["песок","ил"],
			["манер","мод"],
			["эмо","гот","панк"],
			["моно","поли"],
			["ар","га"],
			["шепот","ор"],
			["ор","крик"],
			["ро","ор"],
			["расчет","смета"],
			["озер","рек","морей"],
			["озеро","река","море"],
			["равнин","гор"],
			["равнина","гора"],
			["обама","буш"],
			["верблюд","лама"],
			["жалоба","иск"],
			["бык","конь","вол"],
			["приведение","дух"],
			["пара","сет","тройка"],
			["удача","беда"],
			["удач","бед"],
			["пока","бай"],
			["пятерка","кол"],
			["ассорти","микс"],
			["ладья","тура","слон","король","ферзь","конь","пешка"],
			["взяв","дав"],
			["известняк","мел"],
			["слеп","глух"],
			["ъ","ь"],
			["даш","маш","кат","тань","лен","имена"],
			["краб","рак"],
			["душа","тело"],
			["кг","т","г"],
			["килограмм","тонн","грамм"],
			["хорошо","ок"],
			["рэп","рок"],
			["хоббит","хранитель"],
			["э","ю","я"],
			["противен","мил","люб"],
			["уток","кур"],
			["секунд","лет","минут","часов","дней"],
			["огорода","сада"],
			["огород","сад"],
			["снег","град","дождь"],
			["лоб","чело"],
			["столетие","век"],
			["братве","банде"],
			["ковчег","ной"],
			["лодка","бот"],
			["хит","топ"],
			["им","нам"],
			["велечин","мер"],
			["дрель","бур"],
			["ё","е"],
			["жар","пыл"],
			["счатье","беда"],
			["схема","план"],
			["блокировка","бан"],
			["дама","кавалер"],
			["много","мало"],
			["алла","анна"],
			["падеж","мор"],
			["падёж","мор"],
			["тур","як"],
			["говор","акцент"],
			["а","о"],
			["рожон","кол"],
			["латок","дыр"],
			["зарплата","латка"],
			["косноязыный","заика"],
			["давинчи","код"],
			["дасеен","джо"],
			["да","нет"],
			["не","ни"],
			["ствола","дула"],
			["брюсс","ли"],
			["комар","мух"],
			["скромна","бойка"],
			["минка","пулька"],
			["микросхема","чип"],
			["тпру","но"],
			["год","век"],
			["насыпь","кров"],
			["сотка","ар"],
			["фуа","гра"],
			["франк","су"],
			["вяжи","тки"],
			["гол","пас"],
			["краска","цвет"],
			["ча","ща"],
			["верди","бах"],
			["флаг","гимн"],
			["европа","азия"],
			["кипяток","пар"],
			["велик","мал"],
			["ему","ей"],
			["стрел","пуль","мин","гильз","патронов"],
			["колбаса","ливер"],
			["борода","ус"],
			["макияж","грим"],
			["неуч","ас"],
			["паскаль","па"],
			["заяц","лев"],
			["цыц","ша"],
			["иранец","перс"],
			["рана","боль"],
			["хныкай","ной"],
			["одет","гол"],
			["сии","те"],
			["спектаклей","опер"],
			["моченный","сухой"],
			["шиномонтаж","сто"],
			["застолье","пир"],
			["молния","гром"],
			["наказание","кара","милость"],
			["глубина","мель"],
			["радость","горе"],
			["радость","огорчен"],
			["градус","рад","угол"],
			["сын","дочка"],
			["кирпич","блок"],
			["картофель","фри"],
			["война","мир"],
			["ссора","мир"],
			["поношен","нов"],
			["мясо","кость"],
			["клара","карл"],
			["сон","явь"],
			["личина","маска"],
			["фитиль","воск"],
			["весна","сень"],
			["поле","лужайка"],
			["паспортов","виз"],
			["брудершафт","чок"],
			["константа","пи"],
			["пачкай","мой"],
			["хватка","цепкость"],
			["лей","сыпь"],
			["льду","пару"],
			["остановка","бег"],
			["улица","двор"],
			["жан","жак"],
			["наша","раша"],
			["тибри","тырь"],
			["увял","сник","поник"],
			["дрожжи","хмель"],
			["жена","муж"],
			["ранг","чин"],
			["ранга","чина"],
			["чин","сан"],
			["стой","едь"],
			["взвод","рота"],
			["страх","риск"],
			["страх","ненависть"],
			["ненависть","любовь"],
			["девятый","вал"],
			["волна","вал"],
			["медвежонок","думка"],
			["пешка","дамка"],
			["бочка","мед"],
			["деготь","мед"],
			["дёготь","мед"],
			["нива","поле"],
			["жестов","поз"],
			["бег","шаг"],
			["один","топ"],
			["один","кол"],
			["два","пара","двойка","ту"],
			["сапог","пара"],
			["стол","стул","табурет","кресло"],
			["слезы","пот","сопли"],
			["разрешение","творени"],
			["автомат","пистолет"],
			["пм","ак"],
			["чебурашка","гена"],
			["чебурашке","гене"],
			["поле","штаб"],
			["рация","гарнитура"]
			];


			var slova = $("#words").val().split(' ');
			//индексы строчек, в которых можно найти синонимы.
			var indexRow = []; 
			$.each(slova, function (index, value) {
  				
  				$.each(slovar , function (indexSlova, valueSlova){
  					$.each(valueSlova , function (indexSlovaRow, valueSlovaRow){
  						if (value == valueSlovaRow){
  							if(!indexRow[index]){
	  								indexRow[index] = [];
	  							}
	  								indexRow[index].push(indexSlova);
	  						}

  					});
  				});
  			});

		
			//составляем словарь для генерации
			var slovarForGenerating=[];

			$.each(indexRow , function (index, value){
	  			$.each(value , function (indexOfIndex, valueofValue){
					$.each(slovar[valueofValue] , function (index2, value2){
								if (slova[index] != value2){
									if(!slovarForGenerating[index]){
										slovarForGenerating[index] = [];
									}
										slovarForGenerating[index].push(value2);
									
								}
						});
					});  						
	  		});


	  		function allPossibleCases(arr) {
			  if (arr.length == 1) {
			    return arr[0];
			  } else {
			    var result = [];
			    var allCasesOfRest = allPossibleCases(arr.slice(1));  // recur with the rest of array
			    for (var i = 0; i < allCasesOfRest.length; i++) {
			      for (var j = 0; j < arr[0].length; j++) {
			        result.push(arr[0][j] + allCasesOfRest[i]);
			      }
			    }
			    return result;
			  }

			}

			var result = allPossibleCases(slovarForGenerating);
			$("#combinations").val(result.sort().join("\n"));

		};		

			</script>
	</body>
</html>
